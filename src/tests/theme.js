const colors = [
  '#EBEDEF',
  '#F9E79F',
  '#F4D03F',
  '#F1C40F',
  '#F39C12',
  '#D35400',
];

option = {
  calendar: [
    {
      color: 'transparent',
      left: 'center',

      top: 'center',
      cellSize: [20, 20],
      itemStyle: { borderColor: 'transparent', opacity: 0 },
      splitLine: { show: false },
      yearLabel: { show: false },
      dayLabel: { show: false },
      monthLabel: { show: false },
      range: ['2021-11-21', '2022-03-07'],
    },
  ],
  visualMap: {
    type: 'piecewise',
    min: 0,
    max: 40,
    inRange: { color: colors.slice(1) },
    show: false,
  },
  series: [
    {
      renderItem: function (params, api) {
        const cellPoint = api.coord(api.value(0));
        const cellWidth = params.coordSys.cellWidth;
        const cellHeight = params.coordSys.cellHeight;
        const value = api.value(1);
        if (isNaN(cellPoint[0]) || isNaN(cellPoint[1])) return;
        return {
          z2: 100,
          type: 'rect',
          shape: {
            x: -cellWidth / 2 + 2,
            y: -cellHeight / 2 + 2,
            width: cellWidth - 4,
            height: cellHeight - 4,
            r: 4,
          },
          position: cellPoint,
          style: {
            fill: value ? api.visual('color') : colors[0],
          },
        };
      },
      type: 'custom',
      coordinateSystem: 'calendar',
      dimensions: [null, { type: 'ordinal' }],
      data: [
        ['2022-03-06', 0],
        ['2022-03-07', 8],
        ['2022-02-27', 0],
        ['2022-02-28', 4],
        ['2022-03-01', 1],
        ['2022-03-02', 1],
        ['2022-03-03', 8],
        ['2022-03-04', 14],
        ['2022-03-05', 7],
        ['2022-02-20', 0],
        ['2022-02-21', 11],
        ['2022-02-22', 5],
        ['2022-02-23', 4],
        ['2022-02-24', 3],
        ['2022-02-25', 3],
        ['2022-02-26', 0],
        ['2022-02-13', 0],
        ['2022-02-14', 1],
        ['2022-02-15', 4],
        ['2022-02-16', 1],
        ['2022-02-17', 7],
        ['2022-02-18', 3],
        ['2022-02-19', 0],
        ['2022-02-06', 0],
        ['2022-02-07', 4],
        ['2022-02-08', 15],
        ['2022-02-09', 12],
        ['2022-02-10', 8],
        ['2022-02-11', 3],
        ['2022-02-12', 3],
        ['2022-01-30', 0],
        ['2022-01-31', 3],
        ['2022-02-01', 1],
        ['2022-02-02', 0],
        ['2022-02-03', 0],
        ['2022-02-04', 0],
        ['2022-02-05', 0],
        ['2022-01-23', 0],
        ['2022-01-24', 10],
        ['2022-01-25', 7],
        ['2022-01-26', 9],
        ['2022-01-27', 6],
        ['2022-01-28', 1],
        ['2022-01-29', 0],
        ['2022-01-16', 0],
        ['2022-01-17', 8],
        ['2022-01-18', 5],
        ['2022-01-19', 9],
        ['2022-01-20', 7],
        ['2022-01-21', 40],
        ['2022-01-22', 9],
        ['2022-01-09', 0],
        ['2022-01-10', 6],
        ['2022-01-11', 8],
        ['2022-01-12', 13],
        ['2022-01-13', 13],
        ['2022-01-14', 3],
        ['2022-01-15', 0],
        ['2022-01-02', 0],
        ['2022-01-03', 1],
        ['2022-01-04', 7],
        ['2022-01-05', 2],
        ['2022-01-06', 6],
        ['2022-01-07', 8],
        ['2022-01-08', 0],
        ['2021-12-26', 0],
        ['2021-12-27', 7],
        ['2021-12-28', 20],
        ['2021-12-29', 6],
        ['2021-12-30', 10],
        ['2021-12-31', 20],
        ['2022-01-01', 3],
        ['2021-12-19', 0],
        ['2021-12-20', 17],
        ['2021-12-21', 11],
        ['2021-12-22', 25],
        ['2021-12-23', 13],
        ['2021-12-24', 9],
        ['2021-12-25', 0],
        ['2021-12-12', 0],
        ['2021-12-13', 6],
        ['2021-12-14', 12],
        ['2021-12-15', 15],
        ['2021-12-16', 15],
        ['2021-12-17', 25],
        ['2021-12-18', 0],
        ['2021-12-05', 0],
        ['2021-12-06', 6],
        ['2021-12-07', 10],
        ['2021-12-08', 11],
        ['2021-12-09', 7],
        ['2021-12-10', 17],
        ['2021-12-11', 4],
        ['2021-11-28', 0],
        ['2021-11-29', 17],
        ['2021-11-30', 21],
        ['2021-12-01', 13],
        ['2021-12-02', 13],
        ['2021-12-03', 14],
        ['2021-12-04', 0],
        ['2021-11-21', 0],
        ['2021-11-22', 1],
        ['2021-11-23', 9],
        ['2021-11-24', 2],
        ['2021-11-25', 4],
        ['2021-11-26', 16],
        ['2021-11-27', 0],
      ],
    },
  ],
  backgroundColor: 'transparent',
};
